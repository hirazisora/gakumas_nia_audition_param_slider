<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学マスN.I.Aオーディションスコア管理</title>
    <style>
        body {
            font-size: 24px;
        }
        .slider-container {
            margin-top: 20px;
            margin-bottom: 40px;
            position: relative;            
        }
        .slider-label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .slider {
            width: 100%;
            height: 20px;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            position: relative;
            z-index: 3;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 40px;
            height: 40px;
            background: #555;
            border-radius: 50%;
            cursor: pointer;
        }
        .slider::-moz-range-thumb {
            width: 40px;
            height: 40px;
            background: #555;
            border-radius: 50%;
            cursor: pointer;
        }
        .progress-bar {
            position: absolute;
            height: 20px;
            border-radius: 10px;
            top: 75%;
            transform: translateY(-50%);
            z-index: 2;
        }
        .slider-track {
            position: absolute;
            width: 100%;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            top: 75%;
            transform: translateY(-50%);
            z-index: 1;
        }
        .ticks-container {
            position: absolute;
            width: 100%;
            height: 20px;
            top: 80%;
            z-index: 3;
        }
        .ticks {
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            margin-top: 0;
        }
        .ticks pre{
            margin: 0;
        }
        .slider-container:nth-child(1) .slider-label {
            color: rgb(200, 50, 100);
        }
        .slider-container:nth-child(2) .slider-label {
            color: blue;
        }
        .slider-container:nth-child(3) .slider-label {
            color: rgb(200, 200, 50);
        .info-box {
            margin-top: 10px;
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <label>目標値: 
        <select id="maxValue" style="font-size: 24px;">
            <option value="2600">一次</option>
            <option value="26000">二次</option>
            <option value="80000">最終</option>
        </select>
    </label>
    <div id="infoBox" class="info-box"></div>
    <div id="sliders"></div>
    <script>
        const data = [
            { name: "ボーカル", value: 0, color: "rgb(200, 50, 100)" },
            { name: "ダンス", value: 0, color: "blue" },
            { name: "ビジュアル", value: 0, color: "rgb(200, 200, 50)" }
        ];
        let maxValue = 2600;

        function renderSliders() {
            const slidersContainer = document.getElementById("sliders");
            slidersContainer.innerHTML = "";

            data.forEach((item, index) => {
                const container = document.createElement("div");
                container.className = "slider-container";
                
                const label = document.createElement("span");
                label.className = "slider-label";
                label.innerText = `${item.name}: 0`;
                
                const track = document.createElement("div");
                track.className = "slider-track";
                
                const progressBar = document.createElement("div");
                progressBar.className = "progress-bar";
                progressBar.style.background = item.color;
                progressBar.style.width = 0;
                
                let roundDigit;
                switch(maxValue){
                  case 2600:
                    roundDigit = 50;
                    break;
                  case 26000:
                    roundDigit = 500;
                    break;
                  case 80000:
                    roundDigit = 1000;
                    break;
                }
                
                const slider = document.createElement("input");
                slider.type = "range";
                slider.className = "slider";
                slider.min = 0;
                slider.max = maxValue + 1;
                slider.step = roundDigit;
                slider.value = 0;
                slider.oninput = (e) => {
                    item.value = Number(e.target.value);
                    label.innerText = `${item.name}: ${item.value}`;
                    progressBar.style.width = `${(item.value / maxValue) * 100}%`;
                };
                
                const ticksContainer = document.createElement("div");
                ticksContainer.className = "ticks-container";
                const ticks = document.createElement("div");
                ticks.className = "ticks";
                const tickArrows = document.createElement("div");
                tickArrows.className = "ticks";
                const maxValueDigit = Intl.NumberFormat('ja-JP').format(maxValue).length;
                for (let i = 0; i <= maxValue; i += maxValue / 4) {
                    const tick = document.createElement("pre");
                    tick.innerText = new Intl.NumberFormat('ja-JP').format(Math.round(i/roundDigit)*roundDigit).padEnd(maxValueDigit, " ");
                    ticks.appendChild(tick);
                    const tickArrow = document.createElement("span");
                    switch(i){
                      case 0:
                        tickArrow.innerText = "|　";
                        break;
                      case maxValue:
                        tickArrow.innerText = "　|";
                        break;
                      default:
                        tickArrow.innerText = "|";
                    }
                    
                    tickArrows.appendChild(tickArrow)
                }
                
                container.appendChild(label);
                container.appendChild(track);
                container.appendChild(progressBar);
                container.appendChild(slider);
                ticksContainer.appendChild(tickArrows);
                ticksContainer.appendChild(ticks);
                container.appendChild(ticksContainer);
                slidersContainer.appendChild(container);
            });
        }

        const infoData = {
            2600: "得意：2,550\n普通：2,050\n苦手：1,600\nファン数：10,700",
            26000: "得意：25,300\n普通：20,400\n苦手：16,400\nファン数：256,000",
            80000: "得意：80,000\n普通：65,000\n苦手：55,000\nファン数：800,000"
        };

        function updateInfoBox(value) {
            document.getElementById("infoBox").innerText = infoData[value];
        };

        document.getElementById("maxValue").onchange = (e) => {
            maxValue = Number(e.target.value);
            updateInfoBox(maxValue);
            renderSliders();
        };

        updateInfoBox(2600);
        renderSliders();
    </script>
</body>
</html>
